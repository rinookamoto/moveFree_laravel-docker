### 詳細設計　(イベント/ロジック処理)　 P-03:Registration

## 開発メモ

実装用ファイル構成 (Laravel Breeze 標準)
実装時は以下のファイル群を使用・編集することになります。
Controller: app/Http/Controllers/Auth/RegisteredUserController.php
View: resources/views/auth/register.blade.php
Route: routes/auth.php (Breeze 導入時に自動生成)

1. 画面概要
   新規ユーザーがアカウントを作成するための画面です。
   | 項目 | 内容 |
   | :------ | :------------------------------------------------------ |
   | 画面名 | 会員登録 |
   | パス（URL） | /register |
   | アクセス権限 | ゲスト（未ログインユーザー）のみ |
   | 主な構成要素 | 名前入力欄、メールアドレス入力欄、パスワード入力欄、パスワード確認用入力欄、登録ボタン、ログイン画面へのリンク |

2. イベント処理詳細 (Event Handling)

| 発生タイミング | アクション（Laravel 実装）      | HTTP メソッド | ルート名 | 処理内容詳細                                                                                                                                                                                                             | 遷移先   |
| :------------- | :------------------------------ | :------------ | :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------- |
| 画面表示時     | RegisteredUserController@create | GET           | register | 1. auth.register ビューを表示する。                                                                                                                                                                                      | 自画面   |
| 登録ボタン押下 | RegisteredUserController@store  | POST          | register | 1. 名前、メールアドレス、パスワードを取得する。<br>2. 新規登録バリデーション（L-03）を実行する。<br>3. パスワードをハッシュ化し、users テーブルへユーザーを作成する（L-04）。<br>4. 作成後、自動ログイン処理を実行する。 | P-04：DB |

3. ロジック処理詳細 (Logic Processing)

| 処理 ID | 処理名                 | 実装内容詳細                                                                                                                                                                                     | 関連テーブル |
| :------ | :--------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------- |
| L-03    | 新規登録バリデーション | 1. name：必須入力、255 文字以内。<br>2. email：必須入力、email 形式、users テーブルで一意（Unique）であることを確認する。<br>3. password：必須入力、8 文字以上、確認用パスワードと一致すること。 | users        |
| L-04    | パスワードハッシュ化   | 1. Hash::make($request->password) を実行する。<br>2. Argon2 または Bcrypt を用いて安全にハッシュ化し、users テーブルへ保存する。                                                                 | users        |

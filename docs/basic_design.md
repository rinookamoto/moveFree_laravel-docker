# 基本設計書

## 1. 画面設計

ユーザーが操作する画面の構成と、各画面で行うタスクを定義します。

### 登場するオブジェクトとユーザータスク

- **記事 (Post)**: 一覧表示、詳細表示、新規作成、編集、削除
- **ユーザー (User)**: 会員登録、ログイン、ログアウト

### 画面一覧

| 画面名             | 説明                   | 主要な要素                             |
| :----------------- | :--------------------- | :------------------------------------- |
| **トップ画面**     | 全記事の一覧表示       | 記事リスト（タイトル、投稿者名、日付） |
| **ログイン画面**   | 既存ユーザーの認証     | メールアドレス・パスワード入力欄       |
| **会員登録画面**   | 新規ユーザーの作成     | 名前・メール・パスワード入力欄         |
| **ダッシュボード** | ログイン後のマイページ | 自分の記事一覧、新規作成ボタン         |
| **記事詳細画面**   | 記事の全文閲覧         | タイトル、本文、投稿者情報             |
| **記事投稿画面**   | 新しい記事の作成       | タイトル入力欄、本文入力欄（Textarea） |
| **記事編集画面**   | 既存記事の修正         | 以前の内容が入った入力欄、更新ボタン   |

---

## 2. 機能設計

画面上でのユーザー操作（トリガー）に対して、システムがどのような処理を行うかを定義します。

### 機能一覧と処理内容

| ID   | 機能名       | トリガー           | 処理内容                                      | データの受け渡し |
| :--- | :----------- | :----------------- | :-------------------------------------------- | :--------------- |
| F-01 | 記事一覧取得 | ページアクセス     | 全記事を `posts` テーブルから新着順に取得     | 画面へ表示       |
| F-02 | ログイン処理 | ログインボタン押下 | 入力値と `users` テーブルを照合               | セッション開始   |
| F-03 | 記事保存     | 保存ボタン押下     | 入力値をチェックし `posts` に新規保存         | DB へ保存        |
| F-04 | 権限チェック | 編集画面アクセス   | `post.user_id` がログイン ID と一致するか確認 | 画面表示の可否   |
| F-05 | 記事削除     | 削除ボタン押下     | 対象のレコードを `posts` から削除             | DB から削除      |

---
